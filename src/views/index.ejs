<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anappadikkal Family Meet 2024</title>
    <link rel="stylesheet" href="/public/css/style.css">
    <link rel="stylesheet" href="/public/css/index.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>


<body class="min-h-screen font-manrope">

    <!-- Success Modal -->
    <div id="successModal" class="modal rounded-e-2xl hidden">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <img id="vector " src="/public/assets/Vector.png" alt="success-icon"
                class="absolute top-2 right-4 cursor-pointer w-12 h-12 mb-3">
            <h2 class="text-[20px] font-bold leading-[50.32px] text-left mt-6">Submitted Successfully</h2>
        </div>
    </div>

    <!--Error Modal -->
    <div id="errorModal" class="modal rounded-e-2xl hidden">
        <div class="modal-content">
            <span class="close" id="closeErrorModal">&times;</span>
            <img id="vectorError" src="/public/assets/failed.svg" alt="failed-icon"
                class="absolute top-2 right-4 cursor-pointer w-12 h-12 mb-3">
            <h2 class="text-[20px] font-bold leading-[50.32px] text-left mt-6">Failed to submit details. Please try
                again.</h2>
        </div>
    </div>

    <img id="languageToggle" src="/public/assets/english.png" alt="Language Toggle"
        class="float-right-custom mr-4 md:mr-8">
    <div class="mt-10 md:mt-20 px-4 md:px-0">
        <p id="title" class="font-bold text-center mb-6 text-[#2C4A78] title-font">Anappadikkal Family <br> Meet 2024
        </p>
    </div>
    <div
        class="relative mx-4 md:mx-0 lg:mx-auto lg:max-w-4xl mt-8 md:mt-16 rounded-lg glassMorphism px-4 py-8 md:px-10 md:py-12 custom-form-padding">
        <form id="familyForm" enctype="multipart/form-data" class="space-y-6">
            <div class="mb-4 bg-black w-full">
                <label for="picture" id="uploadLabel"
                    class="block text-lg font-semibold mb-2 flex items-center cursor-pointer">
                    <img id="uploadIcon" src="/public/assets/Upload.png" alt="Upload Icon" class="w-6 h-6 mr-2">
                    <img id="imagePreview" class="mt-2 hidden thumbnail" alt="Image Preview" />
                    <span id="uploadText" class="text-[#2C4A78]">Upload a picture:</span>
                </label>
                <input type="file" id="picture" name="picture" accept="image" class="hidden" required>
            </div>


            <div class="mb-4">
                <label for="name" id="nameLabel" class="block text-lg font-semibold mb-2">Name:</label>
                <input type="text" id="name" name="name" class="border rounded-lg p-2 w-full" required>
            </div>

            <div class="mb-4">
                <label id="ageLabel" class="block text-lg font-semibold mb-2">Age:</label>
                <div class="flex flex-wrap gap-4">
                    <label class="flex items-center">
                        <input type="radio" id="age0-18" name="age" value="0-18" class="mr-2" required>
                        <span>0-18</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="age18-50" name="age" value="18-50" class="mr-2" required>
                        <span>18-50</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="age50+" name="age" value="50+" class="mr-2" required>
                        <span>50+</span>
                    </label>
                </div>
            </div>

            <div class="mb-4">
                <label id="genderLabel" class="block text-lg font-semibold mb-2">Gender:</label>
                <div class="flex gap-4">
                    <label class="flex items-center">
                        <input type="radio" id="male" name="gender" value="Male" class="mr-2" required>
                        <span id="maleLabel">Male</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="female" name="gender" value="Female" class="mr-2" required>
                        <span id="femaleLabel">Female</span>
                    </label>
                </div>
            </div>

            <div class="mb-4">
                <label id="educationLabel" class="block text-lg font-semibold mb-2">Education:</label>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-2">
                    <label class="flex items-center">
                        <input type="radio" id="lkg-ukg" name="education" value="LKG/UKG" class="mr-2" required>
                        <span id="lkgLabel">LKG/UKG</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="sslc" name="education" value="SSLC" class="mr-2" required>
                        <span id="sslcLabel">SSLC</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="plus2" name="education" value="+2" class="mr-2" required>
                        <span id="plus2Label">+2</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="degree" name="education" value="Degree" class="mr-2" required>
                        <span id="degreeLabel">Degree</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="pg" name="education" value="PG" class="mr-2" required>
                        <span id="pgLabel">PG</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="phd" name="education" value="PHD" class="mr-2" required>
                        <span id="phdLabel">PHD</span>
                    </label>
                </div>
            </div>

            <div class="mb-4">
                <label id="gfLabel" class="block text-lg font-semibold mb-2">Grand Father's name:</label>
                <div class="flex flex-col gap-2 mb-2">
                    <label class="flex items-center">
                        <input type="radio" id="gf-mammu" name="grandFather" value="Mammu Haji" class="mr-2" required>
                        <span id="gfMammuLabel">Mammu Haji</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="gf-write" name="grandFather" value="other" class="mr-2" required>
                        <span id="gfWriteLabel">Write your Grand Father's name</span>
                    </label>
                </div>
                <input type="text" id="grandFatherName" name="grandFatherName"
                    placeholder="Write your Grand Father's name" class="border rounded-lg p-2 w-full hidden">
            </div>

            <div class="mb-4">
                <label id="gmLabel" class="block text-lg font-semibold mb-2">Grand Mother's name:</label>
                <div class="flex flex-col gap-2 mb-2">
                    <label class="flex items-center">
                        <input type="radio" id="gm-fathimakutty" name="grandMother" value="Fathimakutty" class="mr-2"
                            required>
                        <span id="gmFathimaLabel">Fathimakutty</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="gm-write" name="grandMother" value="other" class="mr-2" required>
                        <span id="gmWriteLabel">Write your Grand Mother's name</span>
                    </label>
                </div>
                <input type="text" id="grandMotherName" name="grandMotherName"
                    placeholder="Write your Grand Mother's name" class="border rounded-lg p-2 w-full hidden">
            </div>

            <div class="mb-4">
                <label id="familyLabel" class="block text-lg font-semibold mb-2">Family name:</label>
                <div class="flex flex-col gap-2 mb-2">
                    <label class="flex items-center">
                        <input type="radio" id="family-anapaddikal" name="family" value="Anapaddikal Family"
                            class="mr-2" required>
                        <span id="familyAnapaddikalLabel">Anapaddikal Family</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" id="family-write" name="family" value="other" class="mr-2" required>
                        <span id="familyWriteLabel">Write your Family name</span>
                    </label>
                </div>
                <input type="text" id="familyName" name="familyName" placeholder="Write your Family name"
                    class="border rounded-lg p-2 w-full hidden">
            </div>

            <div class="mb-4">
                <label for="address" id="addressLabel" class="block text-lg font-semibold mb-2">Address:</label>
                <textarea id="address" name="address" rows="4" class="border rounded-lg p-2 w-full" required></textarea>
            </div>

            <div class="mb-4 flex justify-center">
                <button type="submit" id="submitButton"
                    class="bg-[#2C4A78] button text-white py-2 px-4 rounded-lg hover:bg-[#a5bfe7]">Submit</button>
            </div>
        </form>
    </div>
    <div class="w-6 seperator-container">
        <hr class="custom-separator my-8 mx-auto w-11/12 md:w-4/5 lg:w-3/4">
    </div>
    <footer class="mt-8 mb-4 text-center text-xs footer-font">
        <p>
            If you have any other personal urgent matters, please feel free to contact us at
        </p>
        <p> <a href="mailto:team@anappadikkal.com" class="underline hover:text-blue-700">team@anappadikkal.com</a>
        </p>
    </footer>
    <script src="/public/scripts/index.js"></script>
    <script>
        // Show the modal 
        function showModal() {
            document.getElementById('successModal').style.display = 'block';
        }

        // Hide the modal
        function closeModal() {
            document.getElementById('errorModal').style.display = 'none';
        }

        // Show the modal 
        function showErrorModal() {
            document.getElementById('errorModal').style.display = 'block';
        }

        // Hide the modal
        function closeErrorModal() {
            document.getElementById('errorModal').style.display = 'none';
        }

        // Close modal when clicking on the close button
        document.getElementById('closeModal').onclick = function () {
            closeModal();
            closeErrorModal();
        }

        // Close modal when clicking outside of the modal
        window.onclick = function (event) {
            if (event.target === document.getElementById('successModal')) {
                closeModal();
            }
        }


        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('familyForm');
            form.addEventListener('submit', function (e) {
                e.preventDefault();

                const formData = new FormData(form);

                fetch('/submit-form', {
                    method: 'POST',
                    body: formData
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            showModal();
                        } else {
                            showErrorModal();
                        }
                    })
                    .catch(error => {
                        showErrorModal();
                    });
            });
        });
    </script>
</body>


</html>